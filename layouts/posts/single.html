{{- define "main" -}}
<div class="gray-lg-bg">
  <div class="mx-auto post">
    <div class="card my-lg-3">
      {{- $cover := .Resources.GetMatch "cover.jpg" -}}
      {{- $halfWidth := math.Floor (div $cover.Width 2) -}}
      {{- $halfHeight := math.Floor (div $cover.Height 2) -}}      
      {{- $half := $cover.Resize (printf "%sx%s" (string $halfWidth) (string $halfHeight)) -}}              
      <img class="card-image-top img-fluid d-none d-lg-block" src="{{ $half.RelPermalink }}" srcset="{{ $cover.RelPermalink }} 2x" alt="Cover Image" width="{{ $halfWidth }}" height="{{ $halfHeight }}">

      {{- $cover1984 := $cover.Fill "1984x1080 Center" -}}
      {{- $cover992 := $cover.Fill "992x540 Center" -}}
      {{- $cover496 := $cover.Fill "496x220 Center" -}}
      {{- $cover248 := $cover.Fill "248x110 Center" -}}            
      <img class="img-fluid d-block d-lg-none"
           sizes="100vw"
           srcset="{{ $cover248.RelPermalink }} 248w,
                   {{ $cover496.RelPermalink }} 496w,
                   {{ $cover992.RelPermalink }} 992w,
                   {{ $cover1984.RelPermalink }} 1984w"
           src="{{ $cover496.RelPermalink }}"           
           alt="Cover Image">
      
      <div class="card-body p-4 p-lg-5">
        <h1 class="card-title mb-0 pb-0">{{ .Title }}</h1>
        <p class="text-muted pt-0 pb-2 ms-1"><small>{{ .Date.Format "Jan 1, 2006" }} &sdot; <a class="text-muted" href="{{ .Site.GetPage.RelPermalink }}">Justin Tanner</a></small></p>          
        <p class="card-text pt-0">
          {{ .Content }}
        </p>
      </div>
    </div>
  </div>

  <div class="footer mt-auto py-4">
    <div class="d-flex justify-content-center">
      <a href="/" class="font-weight-bold text-dark text-decoration-none text-no-wrap text-decoration-onhover mx-3">{{ partial "svgs/bi-arrow-return-left.html" }} All Posts</a>
    </div>
  </div>
</div>
{{- end }} 
